<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <script>
        if (/Android|iPhone|iPad|iPod|Mobile/i.test(navigator.userAgent)) {
            if (!location.hostname.startsWith("m.")) {
                location.href = "https://m." + location.hostname + location.pathname;
            }
        }
    </script>
    <meta charset="UTF-8">
    <title>Request</title>
    <link rel="stylesheet" th:href="@{/css/style.css}" href="/css/style.css">

    <script th:inline="javascript">
        window.onload = function() {
            var message = /*[[${message}]]*/ null;
            if (message) alert(message);
        }
    </script>
</head>

<body>

<!-- 헤더 -->
<div id="heads" xmlns:th="http://www.thymeleaf.org">
    <th:block th:replace="common/head"/>
</div>

<main class="request-page">

    <div class="title">REQUEST</div>
    <div class="divider"></div>

    <form action="/usr/request/submit" method="post" enctype="multipart/form-data" class="request-form">

        <!-- 1. 개인정보 -->
        <section>
            <h2>1. 개인정보 입력</h2>

            <label for="name">이름</label>
            <input id="name" type="text" name="name" required>

            <label for="phone">연락처</label>
            <input id="phone" type="text" name="phone" required>

            <label for="email">이메일</label>
            <input id="email" type="email" name="email" required>

            <label class="checkbox">
                <input id="privacyAgree" type="checkbox" name="privacyAgree" required>
                <span>개인정보 수집 및 이용에 동의합니다</span>
            </label>
        </section>

        <div class="divider"></div>

        <!-- 2. 프로젝트 정보 -->
        <section>
            <h2>2. 프로젝트 기본 정보</h2>

            <p>작업 범위 선택 (중복 가능)</p>

            <div class="work-scope">
                <label><input type="checkbox" name="scope" value="작곡"> 작곡</label>
                <label><input type="checkbox" name="scope" value="편곡"> 편곡</label>
                <label><input type="checkbox" name="scope" value="작사"> 작사</label>
                <label><input type="checkbox" name="scope" value="믹스"> 믹스</label>
                <label><input type="checkbox" name="scope" value="마스터"> 마스터</label>
            </div>

            <label for="deadline">희망 마감일</label>
            <input id="deadline" type="date" name="deadline" required>

            <label for="genre">참고 장르</label>
            <input id="genre" type="text" name="genre" required>

            <label for="referenceUrl">레퍼런스 URL</label>
            <input id="referenceUrl" type="url" name="referenceUrl" placeholder="https://example.com" required>
        </section>

        <div class="divider"></div>

        <!-- 3. 파일 업로드 -->
        <section>
            <h2>3. 파일 업로드</h2>

            <label for="guide">가이드 보컬 파일</label>
            <input id="guide" type="file" name="guide" required>

            <label for="files">MIDI / 가사 / 이미지</label>
            <input id="files" type="file" name="files" multiple>

            <label for="referenceFile">레퍼런스 음악 파일</label>
            <input id="referenceFile" type="file" name="reference" required>
        </section>

        <div class="divider"></div>

        <!-- 4. 추가 요청 -->
        <section>
            <h2>4. 추가 요청 사항</h2>
            <label for="details">요청 사항 입력</label>
            <textarea id="details" name="details" placeholder="프로젝트에 대한 상세 요청을 입력하세요" required></textarea>
        </section>

        <div class="divider"></div>

        <!-- 5. 최종 확인 -->
        <section>
            <h2>5. 제출 전 확인</h2>

            <label class="checkbox">
                <input id="costAgree" type="checkbox" name="costAgree" required>
                <span>비용 안내 확인</span>
            </label>

            <label class="checkbox">
                <input id="policyAgree" type="checkbox" name="policyAgree" required>
                <span>정책에 동의</span>
            </label>

            <button type="submit" class="submit-btn">제출하기</button>
        </section>

    </form>
</main>

<!-- 푸터 -->
<div id="foot" xmlns:th="http://www.thymeleaf.org">
    <th:block th:replace="common/foot"/>
</div>

</body>
</html>